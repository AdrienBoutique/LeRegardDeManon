<section class="change-password-wrap">
  <article class="card panel">
    <h1>Changer le mot de passe</h1>
    <p>Ce changement est obligatoire avant de continuer.</p>

    <form class="stack" [formGroup]="form" (ngSubmit)="submit()">
      <label>
        Mot de passe actuel (optionnel)
        <input type="password" formControlName="currentPassword" />
      </label>

      <label>
        Nouveau mot de passe
        <input type="password" formControlName="newPassword" />
      </label>

      <label>
        Confirmer le nouveau mot de passe
        <input type="password" formControlName="confirmPassword" />
      </label>

      @if (errorMessage()) {
        <p class="error">{{ errorMessage() }}</p>
      }

      <button type="submit" class="btn btn-primary" [disabled]="loading()">
        {{ loading() ? 'Enregistrement...' : 'Valider' }}
      </button>
    </form>
  </article>
</section>
